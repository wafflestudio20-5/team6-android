# ğŸ’½ Wafflemate

TodoMate ì–´í”Œì„ ì°¸ê³ í•˜ì—¬ Wafflemate ì–´í”Œì„ ì œì‘í–ˆìŠµë‹ˆë‹¤.
<br/>
<br/>
ê¸°ì¡´ ì•±ì— ì—†ëŠ” **íŒ”ë¡œìš°ì°¨ë‹¨ ê¸°ëŠ¥**, **ì‹œê°„ì²´í¬ ê¸°ëŠ¥**ì„ ì¶”ê°€í•˜ì—¬ SNS ê¸°ëŠ¥ì„ ê°•í™”í•˜ê³  ì¼ì •ê´€ë¦¬ ì‚¬ìš©ì„±ì„ ë†’í˜”ìŠµë‹ˆë‹¤.

---

<center><img src = "https://user-images.githubusercontent.com/40379446/216377971-6cd45f39-484d-4ad9-9451-973dae12fdea.png"></center>


## ğŸ‘­"ì™€í”Œë©”ì´íŠ¸" ëŠ” ì–´ë–¤ ì•±ì¸ê°€ìš”?

ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜í•˜ëŠ” ì¼ì •ê´€ë¦¬, ì™€í”Œë©”ì´íŠ¸!
<br/>
<br/>
ì¼ì •ê´€ë¦¬ì™€ ë”ë¶ˆì–´ íŒ”ë¡œìš° íŒ”ë¡œì‰ì´ ê°€ëŠ¥í•œ SNS ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
<br/>
ì¼ì •/ì¼ê¸° ê³µìœ ë¥¼ í†µí•´ íš¨ê³¼ì ì¸ ì¼ì •ê´€ë¦¬ë¥¼ ê²½í—˜í•˜ì„¸ìš”.
<br/>
<br/>

## ğŸ”€ ì›Œí¬í”Œë¡œìš°
![image](https://user-images.githubusercontent.com/40379446/216748806-38cec0ff-630f-4585-86b7-67db31572757.png)

## ğŸš€ ê¸°ìˆ ìŠ¤íƒ
![image](https://user-images.githubusercontent.com/40379446/216749114-6e54a6b7-031a-4be4-8c53-ff81a3cd61d7.png)


## ğŸ”¨ ë§Œë“  ì‚¬ëŒ
| [ì†¡ê±´ìš°(Gitsgwoo)](https://github.com/Gitsgwoo) | [ì§„ì±„ì—°(hzlcodus)](https://github.com/hzlcodus) | [ì˜¤ë™ê±´(ho2921ho)](https://github.com/ho2921ho) |



## ğŸ“„ í˜ì´ì§€ ì„¤ëª…

---
[ì†¡ê±´ìš°(Gitsgwoo)](https://github.com/Gitsgwoo)
<br>

### 1. ì‹œì‘ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ1](https://user-images.githubusercontent.com/40379446/216739447-c8828df3-4d10-4fd5-a272-13151c8a1e78.PNG)

### 2. íšŒì›ê°€ì… í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ2](https://user-images.githubusercontent.com/40379446/216739452-2370377a-da14-46fc-a119-4ee94cd75fd8.PNG)

### 3. ì´ë©”ì¼ ì¸ì¦ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ3](https://user-images.githubusercontent.com/40379446/216739456-be94b0db-831c-49ab-9190-a78cb4c50994.PNG)

### 4. ë¡œê·¸ì¸ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ4](https://user-images.githubusercontent.com/40379446/216739458-9fcc461e-e6c8-4b29-a5ef-ac1c3526df0e.PNG)
<br/>

#### ìë™ ë¡œê·¸ì¸ 
- ì‚¬ìš©ì ë¡œê·¸ì¸ ìš”ì²­ ì²˜ë¦¬ ì‹œì— ì•±ì˜ shared preferenceì— access token, refresh token, ì‚¬ìš©ì ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. <br/>
- ì¸ì¦ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” data class AuthInfo ë¥¼ ë§Œë“¤ê³  ì¸ì¦ ì •ë³´ë¥¼  AuthStorage classì˜ ë³€ìˆ˜ authInfoì— StateFlow<AuthInfo>ì˜ í˜•íƒœë¡œ ì €ì¥í•©ë‹ˆë‹¤. <br/>
- ì•±ì˜ startdestinationì„ ë©”ì¸í˜ì´ì§€ë¡œ ì„¤ì •í•´ë†“ê³ , ë©”ì¸í˜ì´ì§€ì˜ lifecycle ì¤‘ OnViewCreated ì—ì„œ ì‚¬ìš©ìì˜ authInfo ê°’ì´ nullì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤. <br/>
- ê°’ì´ nullì´ë¼ë©´ ë¡œê·¸ì¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì²©ê·¸ë˜í”„ login_graphë¡œ navigate ë©ë‹ˆë‹¤. <br/>
 <br/>
login_graph : ì‹œì‘ í˜ì´ì§€, íšŒì›ê°€ì… í˜ì´ì§€, ì´ë©”ì¼ ì¸ì¦ í˜ì´ì§€, ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ êµ¬ì„±

### 5. êµ¬ê¸€ ë¡œê·¸ì¸ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ5](https://user-images.githubusercontent.com/40379446/216739460-1e77eb2c-91a7-45f7-8728-790b2cc1d4bd.PNG)

### 6. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ6](https://user-images.githubusercontent.com/40379446/216739462-d7f6ebf2-d816-4ff4-9bd8-09c7eff2d0f1.PNG)

### 7. ë©”ì¸ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ7](https://user-images.githubusercontent.com/40379446/216739465-7da1ddef-e848-4a04-89d7-97ac0b4eb057.PNG)


---
[ì§„ì±„ì—°(hzlcodus)](https://github.com/hzlcodus)
<br>

### 8. íƒìƒ‰ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ8](https://user-images.githubusercontent.com/40379446/216739468-703ba829-bf03-4e77-ac28-c7c27c1a6c84.PNG)

### 9. íŒ”ë¡œì‰ ëª©ë¡ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ9](https://user-images.githubusercontent.com/40379446/216739472-e83e9ace-b2e7-4c45-b9c3-cfa717e6d624.PNG)

### 10. íŒ”ë¡œì›Œ ëª©ë¡ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ10](https://user-images.githubusercontent.com/40379446/216739478-cbc13d31-a08e-4475-86fc-15e3608a698f.PNG)

### 11. ì°¨ë‹¨ ëª©ë¡ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ11](https://user-images.githubusercontent.com/40379446/216739480-1e74907c-dd9d-485e-b0c9-3c11732c8dc8.PNG)

### 12. ìŠ¬ë¼ì´ë“œ ë©”ë‰´
![ìŠ¬ë¼ì´ë“œ12](https://user-images.githubusercontent.com/40379446/216739482-920d2009-7ab7-4824-97d1-5592e3bb99e6.PNG)

---
[ì˜¤ë™ê±´(ho2921ho)](https://github.com/ho2921ho)
<br>

### 13. ê³„ì • í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ13](https://user-images.githubusercontent.com/40379446/216739484-80865431-54e0-4b4d-a1f3-470c6795d3bd.PNG)

### 14. í”„ë¡œí•„ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ14](https://user-images.githubusercontent.com/40379446/216739487-53ef3589-48c2-486d-9154-fbf7975fc1ef.PNG)

### 15. ë¹„ë°€ë²ˆí˜¸ë³€ê²½ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ15](https://user-images.githubusercontent.com/40379446/216739493-53051afb-de62-4cf3-8276-8e849b9e38b0.PNG)


---
[ì§„ì±„ì—°(hzlcodus)](https://github.com/hzlcodus)
<br>

### 16. í• ì¼ ëª©ë¡ ë° ë‹¬ë ¥ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ16](https://user-images.githubusercontent.com/40379446/216739495-cc8c1035-ffc5-40d6-b961-8445e1d1a357.PNG)

### 17. í• ì¼ ì‘ì„± í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ17](https://user-images.githubusercontent.com/40379446/216739497-ca700913-022c-4e76-9bb9-099b5d262d3f.PNG)

### 18. í• ì¼ ìˆ˜ì • í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ18](https://user-images.githubusercontent.com/40379446/216739500-dcffe18a-0231-42ca-ac7b-52a61e591b7c.PNG)

---
[ì†¡ê±´ìš°(Gitsgwoo)](https://github.com/Gitsgwoo)
<br>
### 19. ì¼ê¸° ë‹¬ë ¥ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ19](https://user-images.githubusercontent.com/40379446/216739509-c73265c9-854f-448f-8a36-cc0865749dc9.PNG)

### 20. ì¼ê¸° ëª©ë¡ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ20](https://user-images.githubusercontent.com/40379446/216739513-a2adc12c-1db9-4d17-abac-4076c2d51490.PNG)

### 21. ì¼ê¸° ì‘ì„± í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ21](https://user-images.githubusercontent.com/40379446/216739515-b17202b6-a6d6-4835-a8e8-111b0bceee62.PNG)

### 22. ì¼ê¸° ì„¸ë¶€ì •ë³´ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ22](https://user-images.githubusercontent.com/40379446/216739518-8234a4b2-3e7e-4cc7-802b-9af3599527e6.PNG)

### 23. ëŒ“ê¸€ ëª©ë¡ í˜ì´ì§€
![ìŠ¬ë¼ì´ë“œ23](https://user-images.githubusercontent.com/40379446/216739519-7cb43991-4efc-493f-b9f6-d7fe482f4d05.PNG)
---
### í—¤ë”ì— í† í° ìë™ ì¶”ê°€ ë° ìë™ refresh ê¸°ëŠ¥
#### í† í° ìë™ ì¶”ê°€ 
- retrofit ë° okhttp3ì˜ interceptor ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì˜ access tokenì„ ìë™ìœ¼ë¡œ Authorization í—¤ë”ì— ë„˜ê²¨ì£¼ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.
- ìµœì´ˆ ë¡œê·¸ì¸ ë˜ëŠ” ì¬ë¡œê·¸ì¸ ì‹œì—ëŠ” access tokenì„ ë„˜ê²¨ì¤„ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— if ë¬¸ì„ í†µí•´ì„œ Authorization í—¤ë”ì— ë¹ˆ Stringì„ ë„˜ê²¨ì£¼ë„ë¡ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.

#### í† í° ìë™ refresh  
- access tokenì˜ ìœ íš¨ê¸°ê°„ì´ ë§Œë£Œë˜ë©´ ë°œìƒí•˜ëŠ” 401 ì—ëŸ¬ë¥¼ catchí•˜ì—¬, sharedPreferenceì— ì €ì¥ëœ refresh tokenì„ ì‚¬ìš©í•´ access tokenì„ ì¬ë°œê¸‰ ë°›ë„ë¡ í–ˆìŠµë‹ˆë‹¤. 
- sharedPreferenceì— ì¬ë°œê¸‰ëœ í† í°ì„ ì €ì¥í•œ í›„ chain ì˜ Request ê°ì²´ë¥¼ ë³µì‚¬í•´ ì¬ë°œê¸‰í•œ í† í°ì„ í—¤ë”ì— ë„£ê³  ë‹¤ì‹œ ìš”ì²­ì„ ë³´ë‚´ë„ë¡ í–ˆìŠµë‹ˆë‹¤. 
- refresh tokenìœ¼ë¡œ access tokenì„ ì¬ë°œê¸‰í•˜ëŠ” ë¡œì§ì€ Request.Builder()ë¥¼ ì‚¬ìš©í•´ refreshRequestë¥¼ ìƒì„±í•˜ì—¬ OkHttpClient().newCall(refreshRequest).execute()ë¥¼ í†µí•´ ì§ì ‘ ì„œë²„ì— ìš”ì²­ì„ ë„˜ê¸°ë„ë¡ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
